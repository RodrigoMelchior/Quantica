<div layout="row">
    <!-- FORM WIZARD -->
    <ms-form-wizard flex>
        <md-tabs md-dynamic-height md-selected="msWizard.selectedIndex" md-center-tabs="true">
            <md-tab>
                <md-tab-label>
                    <span class="ms-form-wizard-step-label">                        
                        <span class="ms-form-wizard-step-number md-accent-bg" ng-if="formIncluir.$valid">
                            <i class="icon-check s16"></i>
                        </span>
                        <span class="ms-form-wizard-step-text" translate='CLIENT.BASCIC_INFO'>BASCIC_INFO</span>
                    </span>
                </md-tab-label>

                <md-tab-body>
                    <form name="formIncluir" class="md-inline-form" ms-form-wizard-form novalidate>
                        <div layout="row" layout-gt-xs="row" flex>
                            <!--Input nome-->
                            <md-input-container flex="100" flex-gt-xs="100">
                                <label><span translate="CLIENT.NAME"></span><strong>*</strong></label>
                                <input type="text" name="nome" ng-model="vm.cliente.name" 
                                       ng-required='true'>
                                <div ng-messages="formIncluir.nome.$error"
                                     ng-show="formIncluir.nome.$touched"
                                     role="alert">
                                    <div ng-message="required">
                                        <span translate="CLIENT.ERROR.NAME">ERROR_NAME</span>
                                    </div>
                                </div>
                            </md-input-container>                           
                        </div>
                        <div layout="row" layout-gt-xs="row" flex>
                            <!--Input Telefone-->
                            <md-input-container flex="50" flex-gt-xs="50">
                                <label><span translate="CLIENT.TEL"></span><strong>*</strong></label>
                                <input type="text" name="phone" ng-model="vm.cliente.phone" 
                                       mask="(99) 9?9999-9999" clean="true" ng-required='true'>
                                <div ng-messages="formIncluir.phone.$error"
                                     ng-show="formIncluir.phone.$touched"
                                     role="alert">
                                    <div ng-message="required">
                                        <span translate="CLIENT.ERROR.TEL">PHONE_ERROR</span>
                                    </div>
                                </div>
                            </md-input-container>
                            <!--Input CNPJ-->
                            <md-input-container flex="100" flex-gt-xs="50">
                                <label><span translate="CLIENT.CNPJ"></span><strong>*</strong></label>
                                <input type="text" name="cnpj" ng-model="vm.cliente.cnpj" 
                                       ng-cnpj mask="99.999.999/9999-99" clean="true"
                                       ng-change="vm.verificarCnpjCadastrado(vm.cliente.cnpj)"                                       
                                       ng-required='true'>
                                <div ng-messages="formIncluir.cnpj.$error"
                                     ng-show="formIncluir.cnpj.$touched"
                                     role="alert">
                                    <div ng-message="required">
                                        <span translate="CLIENT.ERROR.CNPJ">ERROR_CNPJ</span>
                                    </div>
                                    <div ng-message="cnpj">
                                        <span translate="CLIENT.ERROR.INVALID_CNPJ">erro cnpj</span>
                                    </div>
                                </div>
                                <div class="text-center md-input-message-animation" ng-show="vm.cnpjExistente">
                                    <span class="h6 red-text" translate="CLIENT.ERROR.CNPJ_EXISTENTE">cnpj existente</span> 
                                </div>
                            </md-input-container>
                        </div>
                        <div layout="row" layout-gt-xs="row" flex>
                            <!--Input Endereço-->
                            <md-input-container flex="100" flex-gt-xs="100">
                                <label><span translate="CLIENT.ADDRESS"></span><strong>*</strong></label>
                                <input type="text" name="endereco" ng-model="vm.cliente.address">                                       
                                <div ng-messages="formIncluir.endereco.$error"
                                     ng-show="formIncluir.endereco.$touched"
                                     role="alert">
                                    <div ng-message="required">
                                        <span translate="CLIENT.ERROR.LOGRADOURO">ERROR_ADDRESS</span>
                                    </div>
                                </div>
                            </md-input-container>                           
                        </div>
                        <div layout="row" layout-gt-xs="row" flex>
                            <!--Input Numero-->
                            <md-input-container flex="35" flex-gt-xs="35">
                                <label><span translate="CLIENT.NUMBER"></span><strong>*</strong></label>
                                <input type="text" name="numero" ng-model="vm.cliente.number">
                                <div ng-messages="formIncluir.numero.$error"
                                     ng-show="formIncluir.numero.$touched"
                                     role="alert">
                                    <div ng-message="required">
                                        <span translate="CLIENT.ERROR.NUMBER">ERROR_NUMBER</span>
                                    </div>
                                </div>
                            </md-input-container>                                                       
                            <!--Input Complemento-->
                            <md-input-container flex="30" flex-gt-xs="30">
                                <label><span translate="CLIENT.COMPLEMENT"></span><strong>*</strong></label>
                                <input type="text" name="complemento" ng-model="vm.cliente.complement">
                                <div ng-messages="formIncluir.complemento.$error"
                                     ng-show="formIncluir.complemento.$touched"
                                     role="alert">
                                    <div ng-message="required">
                                        <span translate="CLIENT.ERROR.COMPLEMENT">ERROR_COMPLEMENT</span>
                                    </div>
                                </div>
                            </md-input-container>                           
                            <!--Input CEP-->
                            <md-input-container flex="35" flex-gt-xs="35">
                                <label><span translate="CLIENT.CEP"></span><strong>*</strong></label>
                                <input type="text" name="cep" ng-model="vm.cliente.cep" mask=" 99.999-999">
                                <div ng-messages="formIncluir.cep.$error"
                                     ng-show="formIncluir.cep.$touched"
                                     role="alert">
                                    <div ng-message="required">
                                        <span translate="CLIENT.ERROR.CEP">ERROR_CEP</span>
                                    </div>
                                </div>
                            </md-input-container>                           
                        </div>
                        <div layout="row" layout-gt-xs="row" flex>
                            <!--Input Ativo/Inativo-->                            
                            <md-input-container flex="100" flex-gt-xs="100">                                
                                <md-radio-group class="lightGray-text" name="ativo" ng-required="true" ng-model="vm.cliente.ativo">
                                    Ativo*:
                                    <md-radio-button ng-value="true" class="md-primary">Sim</md-radio-button>
                                    <md-radio-button ng-value="false" class="md-primary"> Não </md-radio-button>
                                </md-radio-group>
                                <div ng-messages="formIncluir.ativo.$error"
                                     ng-show="formIncluir.ativo.$touched"
                                     role="alert">
                                    <div ng-message="required">
                                        <span translate="CLIENT.ERROR.LOGRADOURO">ERROR_NAME</span>
                                    </div>
                                </div>
                            </md-input-container>                           
                        </div>
                    </form>
                </md-tab-body>
            </md-tab>

            <md-tab ng-disabled="formIncluir2.$invalid">
                <md-tab-label>
                    <span class="ms-form-wizard-step-label">
                        <span class="ms-form-wizard-step-number md-accent-bg"
                              ng-if="wizardStep2.$invalid">2</span>
                        <span class="ms-form-wizard-step-number md-accent-bg" ng-if="wizardStep2.$valid">
                            <i class="icon-check s16"></i>
                        </span>
                        <span class="ms-form-wizard-step-text" translate='CLIENT.UNITS'>UNITS</span>
                    </span>
                </md-tab-label>

                <md-tab-body>
                    <form name="incluirUnidades" ms-form-wizard-form novalidate>
                        <div layout="row" layout-gt-xs="row">
                            <md-input-container flex="100" flex-gt-xs="100">
                                <label translate="CLIENT.UNIT">UNIT</label>
                                <input type="text" name="unit" ng-model="vm.unidade.unit" 
                                       ng-required="true">                                
                                <div ng-messages="incluirUnidades.unit.$error"
                                     ng-show="incluirUnidades.unit.$touched"
                                     role="alert">
                                    <div ng-message="required">
                                        <span translate="CLIENT.ERROR.UNIT">ERROR_UNIT</span>
                                    </div>
                                </div>
                            </md-input-container> 
                        </div>
                        <div layout="row" layout-gt-xs="row">
                            <md-input-container flex="100" flex-gt-xs="100">
                                <label translate="CLIENT.UNIT_TOP">UNIT_TOP</label>
                                <input type="text" name="unitTop" ng-model="vm.unidade.unitTop" 
                                       ng-required="true">                            
                                <div ng-messages="incluirUnidades.unitTop.$error"
                                     ng-show="incluirUnidades.unitTop.$touched"
                                     role="alert">
                                    <div ng-message="required">
                                        <span translate="CLIENT.ERROR.UNIT_TOP">ERROR_UNIT_TOP</span>
                                    </div>
                                </div>
                            </md-input-container> 
                        </div>
                        <div layout="row" layout-gt-xs="row">
                            <md-input-container flex="100" flex-gt-xs="100">
                                <label translate="CLIENT.INITIALS">INITIALS</label>
                                <input type="text" name="initials" ng-model="vm.unidade.initials" 
                                       ng-required="true">                            
                                <div ng-messages="incluirUnidades.initials.$error"
                                     ng-show="incluirUnidades.initials.$touched"
                                     role="alert">
                                    <div ng-message="required">
                                        <span translate="CLIENT.ERROR.INITIALS">ERROR_INITIALS</span>
                                    </div>
                                </div>
                            </md-input-container> 
                        </div>
                        <div layout="row" layout-gt-xs="row" layout-align="end">
                            <md-button class="md-raised md-blue-grey-500-bg white-text" translate="ACTION.ADD_UNIT" ng-show="msWizard.isLastStep()" ng-click="vm.adicionarUnidade(vm.unidade)"> </md-button>
                        </div>
                    </form>
                    <!--GRID VALORES-->
                    <div class="content">
                        <div class="white-bg md-whiteframe-6dp" >
                            <md-table-container>
                                <table md-table md-progress="gridUnidadeCliente">
                                    <thead md-head>
                                        <tr md-row>
                                            <th md-column  class="secondary-text">
                                                <span class="column-title" translate="CLIENT.UNIT">UNIT</span>
                                            </th>
                                            <th md-column  class="secondary-text">
                                                <span class="column-title" translate="CLIENT_UNIT.UNIT_TOP">vigencia inical</span>
                                            </th>
                                            <th md-column  class="secondary-text">
                                                <span class="column-title" translate="CLIENT.INITIALS">INITIALS</span>
                                            </th>                                            
                                        </tr>
                                    </thead>
                                    <tbody md-body>
                                        <tr ng-repeat=" x in vm.unidadesFiscais" md-row>
                                            <td md-cell>{{x.unit}}</td>
                                            <td md-cell>{{x.unitTop}}</td>
                                            <td md-cell>{{x.initials}}</td>
                                            <td md-cell>
                                                <a href="#" class="md-raised md-ink-ripple md-default-theme"
                                                   ng-click="vm.removerUnidade(x)">
                                                    <i class="icon s26 icon-cancel"></i>
                                                    <md-tooltip class="h5">
                                                        <label translate="HINT.DELETE"></label>
                                                    </md-tooltip>
                                                </a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </md-table-container>
                            <!-- Paginação da tabela 
                            <md-table-pagination md-limit="query.limit"
                                                 md-page="query.page"
                                                 md-total="10" 
                                                 md-page-select="options.pageSelector" 
                                                 md-boundary-links="options.boundaryLinks" 
                                                 md-on-paginate="logPagination">                                                                 
                            </md-table-pagination>-->
                            <md-table-pagination md-page="1" md-limit="10"
                                                 md-total="{{vm.totalCount}}" 
                                                 md-on-paginate="vm.onPaginate"
                                                 md-label="{page: 'Página:', rowsPerPage: 'Resultados por pÃ¡gina:', of: 'de'}" 
                                                 md-options="vm.ROWS_PAGE"
                                                 md-page-select>

                            </md-table-pagination>

                        </div>
                    </div>
                </md-tab-body>
            </md-tab>            
        </md-tabs>

        <div class="navigation" flex layout="row" layout-align="center center">
            <md-button class="md-raised md-accent" ng-click="msWizard.previousStep()"
                       ng-disabled="msWizard.isFirstStep()">
                Anterior
            </md-button>

            <div class="steps">
                <span ng-repeat="form in msWizard.forms"
                      ng-class="{'selected md-accent-bg':msWizard.selectedIndex === $index}"></span>
            </div>
            <!--Botão de avançar  - For BASCIC_INFO-->
            <md-button class="md-raised md-accent" ng-click="msWizard.nextStep()" 
                       ng-hide="msWizard.isLastStep()">
                Avançar
            </md-button>
            <!--Botão de avançar - Unidades            -->
            <md-button class="md-raised md-warn" ng-click="vm.sendForm(); msWizard.resetForm();" ng-show="msWizard.isLastStep()"
                       ng-disabled="true">
                Avançar
            </md-button>
        </div>

        <div class="row" flex layout="row" layout-align="end">
            <md-button class="md-raised md-blue-grey-500-bg white-text" translate="ACTION.SAVE" ng-show="msWizard.isLastStep()"> </md-button>
            <md-button class="md-raised md-blue-grey-500-bg white-text" translate="ACTION.CLEAR" ng-click="vm.limparCampos()"> </md-button>
            <md-button class="md-raised md-blue-grey-500-bg white-text" translate="ACTION.CANCEL" ng-show="msWizard.isLastStep()"> </md-button>                            
        </div>
    </ms-form-wizard>    
</div>
